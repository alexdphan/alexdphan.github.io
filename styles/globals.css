@tailwind base;
@tailwind components;
@tailwind utilities;

@font-face {
  font-family: 'Patriot-Bold';
  src: url('/fonts/Patriot/Patriot-Medium.woff2') format('woff2');
  font-weight: normal;
  font-style: normal;
  font-display: swap;
}

.patriot-bold {
  font-family: 'Patriot-Bold', sans-serif;
}

@layer base {
  :root {
    --background: 0 0% 100%;
    --foreground: 222.2 84% 4.9%;

    --muted: 210 40% 96.1%;
    --muted-foreground: 215.4 16.3% 46.9%;

    --popover: 0 0% 100%;
    --popover-foreground: 222.2 84% 4.9%;

    --card: 0 0% 100%;
    --card-foreground: 222.2 84% 4.9%;

    --border: 214.3 31.8% 91.4%;
    --input: 214.3 31.8% 91.4%;

    --primary: 222.2 47.4% 11.2%;
    --primary-foreground: 210 40% 98%;

    --secondary: 210 40% 96.1%;
    --secondary-foreground: 222.2 47.4% 11.2%;

    --accent: 210 40% 96.1%;
    --accent-foreground: 222.2 47.4% 11.2%;

    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 210 40% 98%;

    --ring: 215 20.2% 65.1%;

    --radius: 0.5rem;
  }

  .dark {
    --background: 222.2 84% 4.9%;
    --foreground: 210 40% 98%;

    --muted: 217.2 32.6% 17.5%;
    --muted-foreground: 215 20.2% 65.1%;

    --popover: 222.2 84% 4.9%;
    --popover-foreground: 210 40% 98%;

    --card: 222.2 84% 4.9%;
    --card-foreground: 210 40% 98%;

    --border: 217.2 32.6% 17.5%;
    --input: 217.2 32.6% 17.5%;

    --primary: 210 40% 98%;
    --primary-foreground: 222.2 47.4% 11.2%;

    --secondary: 217.2 32.6% 17.5%;
    --secondary-foreground: 210 40% 98%;

    --accent: 217.2 32.6% 17.5%;
    --accent-foreground: 210 40% 98%;

    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 0 85.7% 97.3%;

    --ring: 217.2 32.6% 17.5%;
  }
}

/* This applies a universal border style */
@layer base {
  * {
    @apply border-border;
  }
  /* This applies the background and text colors to the body element */
  body {
    @apply bg-background text-foreground;
  }
}

/* Styles for images */
img {
  @apply max-w-full h-auto; /* Images are responsive (don't overflow their container) */
}

/* Styles for task list items */
.task-list-item {
  @apply list-none;
}

.task-list-item-checkbox {
  @apply form-checkbox;
}

::selection {
  background-color: #393939; /* Changes the color of the text selection highlight to blue */
  color: #fefefe; /* Changes the color of the text within the selection to white */
}

html {
  min-width: 360px; /* Ensures the width of the html document is at least 360px */
}

/* Styles for anchor tags within the .prose class */
.prose .anchor {
  @apply absolute invisible no-underline; /* Anchor tags are positioned absolutely, initially invisible and have no underline */

  margin-left: -1em; /* Moves the anchor tags 1em to the left */
  padding-right: 0.5em; /* Adds padding to the right of the anchor tags */
  width: 80%; /* Sets the width of the anchor tags to 80% */
  max-width: 700px; /* Limits the maximum width of the anchor tags to 700px */
  cursor: pointer; /* Changes the cursor to a pointer when hovering over the anchor tags */
}

.anchor:hover {
  @apply visible; /* Makes the anchor tags visible when hovered */
}

/* change mdx paragraph text size to small instead of base (16px) */
.prose p {
  @apply text-sm;
}

/* Styles for all anchor tags within the .prose class */
.prose a {
  @apply transition-all decoration-neutral-400 dark:decoration-neutral-600 underline-offset-2 decoration-[0.1em]; /* Adds a transition to all properties, applies decoration styles, adds an offset to the underline, and applies a specific decoration style */
}

.prose a:hover {
  color: #d8b281;
}

.prose .anchor:after {
  @apply text-neutral-300 dark:text-neutral-700; /* Applies color styles to the content after the anchor tags */
  content: '#'; /* Adds a '#' after the content of the anchor tags */
}

.prose *:hover > .anchor {
  @apply visible; /* Makes the anchor tags visible when any child of the .prose class is hovered */
}

/* Styles for preformatted text within the .prose class */
.prose pre {
  @apply border border-neutral-800 bg-neutral-900; /* Adds a border and background color to the preformatted text */
}

/* Styles for inline code within the .prose class */
.prose code {
  @apply text-neutral-800 dark:text-neutral-200 px-1 py-0.5 border border-neutral-100 dark:border-neutral-800 rounded-lg bg-neutral-100 dark:bg-neutral-900; /* Adds text color, padding, border, border color, rounded corners, and background color to the inline code */
}

/* Styles for inline code within preformatted text */
.prose pre code {
  @apply text-neutral-800 dark:text-neutral-200 p-0; /* Applies text color and removes padding */
  border: initial; /* Resets the border style */
}

/* Styles for images within the .prose class */
.prose img {
  /* Don't apply styles to next/image */
  @apply m-0; /* Removes margin from images */
}

/* Styles for the first child element of the .prose class */
.prose > :first-child {
  /* Override removing top margin, causing layout shift */
  margin-top: 1.25em !important; /* Adds a top margin */
  margin-bottom: 1.25em !important; /* Adds a bottom margin */
}

/* Styles for code with a certain language class and preformatted text with a certain language class */
code[class*='language-'],
pre[class*='language-'] {
  @apply text-neutral-50; /* Applies a specific text color */
}

pre,
code {
  @apply overflow-auto;
  scrollbar-width: none; /* For Firefox */
  -ms-overflow-style: none; /* For Internet Explorer and Edge */
}

pre::-webkit-scrollbar,
code::-webkit-scrollbar {
  display: none; /* for Chrome, Safari, and Opera */
}

/* Styles for the scrollbar of preformatted text */
pre::-webkit-scrollbar {
  display: none; /* Hides the scrollbar */
}

pre {
  -ms-overflow-style: none; /* Removes the scrollbar in IE and Edge */
  scrollbar-width: none; /* Removes the scrollbar in Firefox */
}

/* Removes the default Safari input shadow on mobile for text and email inputs */
input[type='text'],
input[type='email'] {
  -webkit-appearance: none; /* Removes the default appearance in WebKit browsers like Chrome and Safari */
  -moz-appearance: none; /* Removes the default appearance in Mozilla browsers */
  appearance: none; /* Removes the default appearance in standard HTML5 */
}

/* Styles for anchor tags within a .tweet class inside the .prose class */
.prose .tweet a {
  text-decoration: inherit; /* Inherits the text-decoration from its parent */
  font-weight: inherit; /* Inherits the font weight from its parent */
}

/* Styles for tables */
table {
  display: block; /* Makes the table a block element */
  max-width: fit-content; /* Makes the max-width of the table only as wide as its content */
  overflow-x: auto; /* Adds a horizontal scrollbar if the table overflows its container */
  white-space: nowrap; /* Prevents the cells from wrapping text */
}

/* Styles for paragraphs within a .callout class inside the .prose class */
.prose .callout > p {
  margin: 0 !important; /* Removes the margin from the paragraphs */
}

/* Styles for code fragments */
[data-rehype-pretty-code-fragment] code {
  @apply grid min-w-full break-words rounded-none border-0 bg-transparent p-0 text-sm text-black; /* Makes the code block a grid, sets its minimum width to 100%, allows words to break, removes rounded corners, removes the border, makes the background transparent, removes padding, sets the text to small, and sets the text color to black */
  counter-reset: line; /* Resets the line counter */
  box-decoration-break: clone; /* For inline elements, it specifies how the background and border of an element are drawn when the element spans multiple lines */
}
[data-rehype-pretty-code-fragment] .line {
  @apply py-1; /* Adds vertical padding to the lines */
}
[data-rehype-pretty-code-fragment] [data-line-numbers] > .line::before {
  counter-increment: line; /* Increments the line counter */
  content: counter(line); /* Adds the line number before the line */
  display: inline-block; /* Makes the line number an inline-block element */
  width: 1rem; /* Sets the width of the line number to 1rem */
  margin-right: 1rem; /* Adds a right margin to the line number */
  text-align: right; /* Aligns the line number to the right */
  color: gray; /* Sets the color of the line number to gray */
}
[data-rehype-pretty-code-fragment] .line--highlighted {
  @apply bg-slate-500 bg-opacity-10; /* Applies a background color and opacity to the highlighted line */
}
[data-rehype-pretty-code-fragment] .line-highlighted span {
  @apply relative; /* Makes the span within the highlighted line a relative element */
}
[data-rehype-pretty-code-fragment] .word--highlighted {
  @apply rounded-md bg-slate-500 bg-opacity-10 p-1; /* Applies rounded corners, a background color, opacity, and padding to the highlighted word */
}
[data-rehype-pretty-code-title] {
  @apply px-4 py-3 font-mono text-xs font-medium border rounded-t-lg text-neutral-200 border-[#333333] bg-[#1c1c1c]; /* Applies padding, a monospace font, small text, medium font weight, a border, rounded top corners, text color, border color, and background color to the code title */
}
[data-rehype-pretty-code-title] + pre {
  @apply mt-0 rounded-t-none border-t-0; /* Removes the top margin, top rounded corners, and top border from the preformatted text following the code title */
}

.link-with-animation {
  position: relative;
  text-decoration: none;
}

.link-with-animation::after {
  content: '';
  position: absolute;
  width: 100%;
  transform: scaleX(0);
  height: 2px;
  bottom: 0;
  left: 0;
  background-color: currentColor;
  transform-origin: bottom right;
  transition: transform 0.25s ease-out;
}

.link-with-animation:hover::after {
  transform: scaleX(1);
  transform-origin: bottom left;
}
